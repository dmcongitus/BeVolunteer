{"ast":null,"code":"import _regeneratorRuntime from \"/home/minhcong/Desktop/client/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/home/minhcong/Desktop/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport * as actionTypes from '../constants/actionTypes';\nimport { storeUserData } from '../utils/localStorage';\nimport * as authServices from '../services/auth.service';\nexport function logInUser(username, password) {\n  return (\n    /*#__PURE__*/\n    function () {\n      var _ref = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee(dispatch) {\n        var _ref2, _ref2$data, token, user;\n\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.prev = 0;\n                _context.next = 3;\n                return authServices.loginUser(username, password);\n\n              case 3:\n                _ref2 = _context.sent;\n                _ref2$data = _ref2.data;\n                token = _ref2$data.token;\n                user = _ref2$data.user;\n                storeUserData(user);\n                dispatch({\n                  type: actionTypes.LOGIN_USER_SUCCESSFUL,\n                  payload: {\n                    token: token,\n                    user: user\n                  }\n                });\n                _context.next = 15;\n                break;\n\n              case 11:\n                _context.prev = 11;\n                _context.t0 = _context[\"catch\"](0);\n                console.log(_context.t0);\n                dispatch({\n                  type: actionTypes.LOGIN_USER_FAILED\n                });\n\n              case 15:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, null, [[0, 11]]);\n      }));\n\n      return function (_x) {\n        return _ref.apply(this, arguments);\n      };\n    }()\n  );\n}\nexport function logOutUser() {\n  localStorage.clear();\n  return {\n    type: actionTypes.LOGOUT_USER\n  };\n}","map":{"version":3,"sources":["/home/minhcong/Desktop/client/src/actions/auth.action.js"],"names":["actionTypes","storeUserData","authServices","logInUser","username","password","dispatch","loginUser","data","token","user","type","LOGIN_USER_SUCCESSFUL","payload","console","log","LOGIN_USER_FAILED","logOutUser","localStorage","clear","LOGOUT_USER"],"mappings":";;AAAA,OAAO,KAAKA,WAAZ,MAA6B,0BAA7B;AACA,SAASC,aAAT,QAA8B,uBAA9B;AACA,OAAO,KAAKC,YAAZ,MAA8B,0BAA9B;AAEA,OAAO,SAASC,SAAT,CAAmBC,QAAnB,EAA6BC,QAA7B,EAAuC;AAC1C;AAAA;AAAA;AAAA;AAAA;AAAA,+BAAO,iBAAgBC,QAAhB;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAEyCJ,YAAY,CAACK,SAAb,CAAuBH,QAAvB,EAAiCC,QAAjC,CAFzC;;AAAA;AAAA;AAAA,mCAESG,IAFT;AAEiBC,gBAAAA,KAFjB,cAEiBA,KAFjB;AAEwBC,gBAAAA,IAFxB,cAEwBA,IAFxB;AAGCT,gBAAAA,aAAa,CAACS,IAAD,CAAb;AACAJ,gBAAAA,QAAQ,CAAC;AAAEK,kBAAAA,IAAI,EAAEX,WAAW,CAACY,qBAApB;AAA2CC,kBAAAA,OAAO,EAAE;AAAEJ,oBAAAA,KAAK,EAALA,KAAF;AAASC,oBAAAA,IAAI,EAAJA;AAAT;AAApD,iBAAD,CAAR;AAJD;AAAA;;AAAA;AAAA;AAAA;AAMCI,gBAAAA,OAAO,CAACC,GAAR;AACAT,gBAAAA,QAAQ,CAAC;AAAEK,kBAAAA,IAAI,EAAEX,WAAW,CAACgB;AAApB,iBAAD,CAAR;;AAPD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAP;;AAAA;AAAA;AAAA;AAAA;AAAA;AAUH;AAED,OAAO,SAASC,UAAT,GAAsB;AACzBC,EAAAA,YAAY,CAACC,KAAb;AACA,SAAO;AAAER,IAAAA,IAAI,EAAEX,WAAW,CAACoB;AAApB,GAAP;AACH","sourcesContent":["import * as actionTypes from '../constants/actionTypes';\nimport { storeUserData } from '../utils/localStorage';\nimport * as authServices from '../services/auth.service';\n\nexport function logInUser(username, password) {\n    return async function (dispatch) {\n        try {\n            const { data: { token, user } } = await authServices.loginUser(username, password);\n            storeUserData(user);\n            dispatch({ type: actionTypes.LOGIN_USER_SUCCESSFUL, payload: { token, user } });\n        } catch (e) {\n            console.log(e);\n            dispatch({ type: actionTypes.LOGIN_USER_FAILED });\n        }\n    }\n}\n\nexport function logOutUser() {\n    localStorage.clear();\n    return { type: actionTypes.LOGOUT_USER };\n}"]},"metadata":{},"sourceType":"module"}